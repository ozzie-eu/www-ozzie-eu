<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>The Cross-Platform Mirage: .NET and the Windows Dependency Trap :: Ozzie.eu</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="The promise of .NET has always included cross-platform capabilities, allowing developers to build applications that run seamlessly on Windows, Linux, and macOS. However, this dream can quickly turn into a mirage when you rely on third-party packages, even those from Microsoft, that are intrinsically tied to the Windows operating system." />
<meta name="keywords" content="joao,osorio,ozzie,blog" />

  <meta name="robots" content="noodp" />

<link rel="canonical" href="/post/dotnet-cross-platform-mirage/" />





  
  <link rel="stylesheet" href="/css/buttons.min.86f6b4c106b6c6eb690ae5203d36b442c1f66f718ff4e8164fa86cf6c61ad641.css">

  
  <link rel="stylesheet" href="/css/code.min.d529ea4b2fb8d34328d7d31afc5466d5f7bc2f0bc9abdd98b69385335d7baee4.css">

  
  <link rel="stylesheet" href="/css/fonts.min.5bb7ed13e1d00d8ff39ea84af26737007eb5051b157b86fc24487c94f3dc8bbe.css">

  
  <link rel="stylesheet" href="/css/footer.min.eb8dfc2c6a7eafa36cd3ba92d63e69e849e2200e0002a228d137f236b09ecd75.css">

  
  <link rel="stylesheet" href="/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css">

  
  <link rel="stylesheet" href="/css/header.min.75c7eb0e2872d95ff48109c6647d0223a38db52e2561dd87966eb5fc7c6bdac6.css">

  
  <link rel="stylesheet" href="/css/main.min.36833afd348409fc6c3d09d0897c5833d9d5bf1ff31f5e60ea3ee42ce2b1268c.css">

  
  <link rel="stylesheet" href="/css/menu.min.3c17467ebeb3d38663dce68f71f519901124fa5cbb4519b2fb0667a21e9aca39.css">

  
  <link rel="stylesheet" href="/css/pagination.min.bbb986dbce00a5ce5aca0504b7925fc1c581992a4bf57f163e5d69cc1db7d836.css">

  
  <link rel="stylesheet" href="/css/post.min.e6dddd258e64c83e05cec0cd49c05216742d42fc8ecbfbe6b67083412b609bd3.css">

  
  <link rel="stylesheet" href="/css/syntax.min.a0773cce9310cb6d8ed23e50f005448facf29a53001b57e038828daa466b25c0.css">

  
  <link rel="stylesheet" href="/css/terminal.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css">

  
  <link rel="stylesheet" href="/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css">







<link rel="shortcut icon" href="favicon.png">
<link rel="apple-touch-icon" href="apple-touch-icon.png">


<meta name="twitter:card" content="summary" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="The Cross-Platform Mirage: .NET and the Windows Dependency Trap">
<meta property="og:description" content="The promise of .NET has always included cross-platform capabilities, allowing developers to build applications that run seamlessly on Windows, Linux, and macOS. However, this dream can quickly turn into a mirage when you rely on third-party packages, even those from Microsoft, that are intrinsically tied to the Windows operating system." />
<meta property="og:url" content="/post/dotnet-cross-platform-mirage/" />
<meta property="og:site_name" content="Ozzie.eu" />

  <meta property="og:image" content="og-image.png">

<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="627">

  <meta property="article:section" content="Console" />

  <meta property="article:section" content="Backend" />


  <meta property="article:published_time" content="2025-03-31 12:30:22 &#43;0100 BST" />












</head>
<body>


<div class="container center">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Ozzie.eu
  </div>
</a>

    </div>
    
      <ul class="menu menu--mobile">
  <li class="menu__trigger">Menu&nbsp;▾</li>
  <li>
    <ul class="menu__dropdown">
      
        
          <li><a href="/">Home</a></li>
        
      
        
          <li><a href="/post">All Posts</a></li>
        
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/tags">Tags</a></li>
        
      
        
          <li><a href="/categories">Categories</a></li>
        
      
      
    </ul>
  </li>
</ul>

    
    
  </div>
  
    <nav class="navigation-menu">
  <ul class="navigation-menu__inner menu--desktop">
    
      
        
          <li><a href="/" >Home</a></li>
        
      
        
          <li><a href="/post" >All Posts</a></li>
        
      
        
          <li><a href="/about" >About</a></li>
        
      
        
          <li><a href="/tags" >Tags</a></li>
        
      
        
          <li><a href="/categories" >Categories</a></li>
        
      
      
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<article class="post">
  <h1 class="post-title">
    <a href="/post/dotnet-cross-platform-mirage/">The Cross-Platform Mirage: .NET and the Windows Dependency Trap</a>
  </h1>
  <div class="post-meta"><time class="post-date">2025-03-31</time></div>

  
    <span class="post-tags">
      
      #<a href="tags/dotnetcore/">dotnetcore</a>&nbsp;
      
    </span>
  
  


  

  <div class="post-content"><div>
        <h2 id="the-cross-platform-mirage-net-and-the-windows-dependency-trap">The Cross-Platform Mirage: .NET and the Windows Dependency Trap<a href="#the-cross-platform-mirage-net-and-the-windows-dependency-trap" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<p>The promise of .NET has always included cross-platform capabilities, allowing developers to build applications that run seamlessly on Windows, Linux, and macOS. However, this dream can quickly turn into a mirage when you rely on third-party packages, even those from Microsoft, that are intrinsically tied to the Windows operating system.</p>
<p>Let&rsquo;s dive into a couple of real-world scenarios that illustrate this pitfall.</p>
<p><strong>Scenario 1: Windows Authentication with <code>System.DirectoryServices</code></strong></p>
<p>Imagine you&rsquo;re developing a web application that requires Windows authentication. On Windows, the <code>System.DirectoryServices</code> namespace provides a convenient way to interact with Active Directory. You write code like this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">System.DirectoryServices</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ...</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">DirectoryEntry</span> <span class="n">entry</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DirectoryEntry</span><span class="p">(</span><span class="s">&#34;LDAP://yourdomain.com&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">DirectorySearcher</span> <span class="n">searcher</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DirectorySearcher</span><span class="p">(</span><span class="n">entry</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">searcher</span><span class="p">.</span><span class="n">Filter</span> <span class="p">=</span> <span class="s">&#34;(sAMAccountName=username)&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">SearchResult</span> <span class="n">result</span> <span class="p">=</span> <span class="n">searcher</span><span class="p">.</span><span class="n">FindOne</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="p">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// Authentication successful</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// Authentication failed</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>This code works flawlessly on your Windows development machine. You happily deploy your application to a Linux server, expecting it to run without a hitch. But, surprise! You&rsquo;re met with runtime exceptions. The <code>System.DirectoryServices</code> namespace is heavily reliant on native Windows libraries and APIs, making it completely unusable on Linux.</p>
<p><strong>Scenario 2: Nuget Package Fails on Alpine Linux Docker Container</strong></p>
<p>You find a Nuget package that simplifies a specific task. It works perfectly during development on Windows. You decide to containerize your application using Docker and deploy it to an Alpine Linux-based container for its small footprint and efficiency.</p>
<p>During testing, you discover that the application crashes within the container. After some debugging, you find that the Nuget package relies on native Windows DLLs or APIs that are not available in Alpine Linux&rsquo;s minimal environment. The package&rsquo;s documentation might not explicitly mention these dependencies, leading to a frustrating debugging experience.</p>
<p><strong>The Root of the Problem: Implicit Dependencies</strong></p>
<p>The core issue is that many libraries, especially those interfacing with system-level functionalities, carry implicit dependencies on the underlying operating system. These dependencies are often not clearly documented, leading to unexpected runtime failures when deployed to non-Windows environments.</p>
<p><strong>The Solution: Embrace Linux Early and Often</strong></p>
<p>The most effective way to mitigate these cross-platform pitfalls is to develop and test your .NET applications on Linux from the start.</p>
<p><strong>Why Linux with WSL?</strong></p>
<ul>
<li><strong>Early Detection of Issues:</strong> By developing on Linux, you&rsquo;ll encounter platform-specific issues related to dependencies early in the development cycle, rather than during deployment or in production.</li>
<li><strong>Realistic Environment:</strong> WSL (Windows Subsystem for Linux) provides a seamless way to run a Linux distribution directly on Windows, offering a realistic development environment without the overhead of a full virtual machine.</li>
<li><strong>Docker Integration:</strong> WSL integrates well with Docker, enabling you to build and test your containerized applications within the same environment.</li>
<li><strong>Cross-Platform Awareness:</strong> Working on Linux fosters a deeper understanding of cross-platform development challenges, leading to more robust and portable code.</li>
</ul>
<p><strong>Conclusion</strong></p>
<p>While .NET promises cross-platform capabilities, the reality is that third-party packages, even those from Microsoft, can introduce hidden Windows dependencies. To truly achieve cross-platform compatibility, developers should adopt a Linux-first approach. By leveraging WSL for development and testing, you can proactively identify and address platform-specific issues, ensuring that your .NET applications run reliably on any target environment. Don&rsquo;t let the cross-platform mirage lead you astray; embrace Linux and build truly portable applications.</p>

      </div></div>

  
    
<div class="pagination">
  <div class="pagination__title">
    <span class="pagination__title-h">Read other posts</span>
    <hr />
  </div>
  <div class="pagination__buttons">
    
      <a href="/post/object-not-found-mssql-kb5058722/" class="button inline prev">
        &lt; [<span class="button__text">The &#39;object not found&#39; Error After Applying KB5058722 on SQL Server 2019 CU32</span>]
      </a>
    
    
      ::
    
    
      <a href="/post/orm-vs-raw-sql/" class="button inline next">
         [<span class="button__text">ORM vs. Raw SQL: A Performance Showdown</span>] &gt;
      </a>
    
  </div>
</div>


  

  
    

  
</article>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2025 Powered by <a href="https://gohugo.io">Hugo</a></span>
    
      <span>:: <a href="https://github.com/panr/hugo-theme-terminal" target="_blank">Theme</a> made by <a href="https://github.com/panr" target="_blank">panr</a></span>
      </div>
  </div>
</footer>






<script type="text/javascript" src="/bundle.min.js"></script>





  
</div>

</body>
</html>
