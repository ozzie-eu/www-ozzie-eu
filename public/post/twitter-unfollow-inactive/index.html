<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Python script to unfollow inactive friends on Twitter :: Ozzie.eu</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Twitter is great to learn the news of your chosen interests, but sometimes your get stuck with an increasing amount of inactive friends who haven&#39;t updated their status in ages." />
<meta name="keywords" content="joao,osorio,ozzie,blog" />

  <meta name="robots" content="noodp" />

<link rel="canonical" href="https://www.ozzie.eu/post/twitter-unfollow-inactive/" />





  
  <link rel="stylesheet" href="https://www.ozzie.eu/css/buttons.min.86f6b4c106b6c6eb690ae5203d36b442c1f66f718ff4e8164fa86cf6c61ad641.css">

  
  <link rel="stylesheet" href="https://www.ozzie.eu/css/code.min.d529ea4b2fb8d34328d7d31afc5466d5f7bc2f0bc9abdd98b69385335d7baee4.css">

  
  <link rel="stylesheet" href="https://www.ozzie.eu/css/fonts.min.5bb7ed13e1d00d8ff39ea84af26737007eb5051b157b86fc24487c94f3dc8bbe.css">

  
  <link rel="stylesheet" href="https://www.ozzie.eu/css/footer.min.eb8dfc2c6a7eafa36cd3ba92d63e69e849e2200e0002a228d137f236b09ecd75.css">

  
  <link rel="stylesheet" href="https://www.ozzie.eu/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css">

  
  <link rel="stylesheet" href="https://www.ozzie.eu/css/header.min.75c7eb0e2872d95ff48109c6647d0223a38db52e2561dd87966eb5fc7c6bdac6.css">

  
  <link rel="stylesheet" href="https://www.ozzie.eu/css/main.min.36833afd348409fc6c3d09d0897c5833d9d5bf1ff31f5e60ea3ee42ce2b1268c.css">

  
  <link rel="stylesheet" href="https://www.ozzie.eu/css/menu.min.3c17467ebeb3d38663dce68f71f519901124fa5cbb4519b2fb0667a21e9aca39.css">

  
  <link rel="stylesheet" href="https://www.ozzie.eu/css/pagination.min.bbb986dbce00a5ce5aca0504b7925fc1c581992a4bf57f163e5d69cc1db7d836.css">

  
  <link rel="stylesheet" href="https://www.ozzie.eu/css/post.min.e6dddd258e64c83e05cec0cd49c05216742d42fc8ecbfbe6b67083412b609bd3.css">

  
  <link rel="stylesheet" href="https://www.ozzie.eu/css/syntax.min.a0773cce9310cb6d8ed23e50f005448facf29a53001b57e038828daa466b25c0.css">

  
  <link rel="stylesheet" href="https://www.ozzie.eu/css/terminal.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css">

  
  <link rel="stylesheet" href="https://www.ozzie.eu/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css">







<link rel="shortcut icon" href="https://www.ozzie.eu/favicon.png">
<link rel="apple-touch-icon" href="https://www.ozzie.eu/apple-touch-icon.png">


<meta name="twitter:card" content="summary" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Python script to unfollow inactive friends on Twitter">
<meta property="og:description" content="Twitter is great to learn the news of your chosen interests, but sometimes your get stuck with an increasing amount of inactive friends who haven&#39;t updated their status in ages." />
<meta property="og:url" content="https://www.ozzie.eu/post/twitter-unfollow-inactive/" />
<meta property="og:site_name" content="Ozzie.eu" />

  <meta property="og:image" content="https://www.ozzie.eu/og-image.png">

<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="627">

  <meta property="article:section" content="console" />


  <meta property="article:published_time" content="2021-10-25 15:50:14 &#43;0100 BST" />












</head>
<body>


<div class="container center">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Ozzie.eu
  </div>
</a>

    </div>
    
      <ul class="menu menu--mobile">
  <li class="menu__trigger">Menu&nbsp;â–¾</li>
  <li>
    <ul class="menu__dropdown">
      
        
          <li><a href="/">Home</a></li>
        
      
        
          <li><a href="/post">All Posts</a></li>
        
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/tags">Tags</a></li>
        
      
        
          <li><a href="/categories">Categories</a></li>
        
      
      
    </ul>
  </li>
</ul>

    
    
  </div>
  
    <nav class="navigation-menu">
  <ul class="navigation-menu__inner menu--desktop">
    
      
        
          <li><a href="/" >Home</a></li>
        
      
        
          <li><a href="/post" >All Posts</a></li>
        
      
        
          <li><a href="/about" >About</a></li>
        
      
        
          <li><a href="/tags" >Tags</a></li>
        
      
        
          <li><a href="/categories" >Categories</a></li>
        
      
      
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<article class="post">
  <h1 class="post-title">
    <a href="https://www.ozzie.eu/post/twitter-unfollow-inactive/">Python script to unfollow inactive friends on Twitter</a>
  </h1>
  <div class="post-meta"><time class="post-date">2021-10-25</time></div>

  
    <span class="post-tags">
      
      #<a href="https://www.ozzie.eu/tags/python/">python</a>&nbsp;
      
      #<a href="https://www.ozzie.eu/tags/twitter/">twitter</a>&nbsp;
      
    </span>
  
  


  

  <div class="post-content"><div>
        <p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/csxyq2t7n4pdfxko4oaz.jpg" alt="Unfollow friends.">
Twitter is great to learn the news of your chosen interests, but sometimes your get stuck with an increasing amount of inactive friends who haven&rsquo;t updated their status in ages. It&rsquo;s a daunting task to go over all of your friends, check their status, and unfollow the ones not using Twitter for a long time.</p>
<p>I&rsquo;ve written a Python script to do this. The script works with the following python packages:</p>
<ul>
<li>Tweepy</li>
<li>configmanager</li>
</ul>
<p>The required dependencies are on the <strong>requirements.txt</strong> file. To install them run:</p>
<pre tabindex="0"><code>python -m pip install -r requirements.txt
</code></pre><h2 id="script-configuration">Script Configuration<a href="#script-configuration" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<h3 id="configuration-file-location">Configuration file location<a href="#configuration-file-location" class="hanchor" ariaLabel="Anchor">#</a> </h3>
<p>The project comes with an example.ini file that you can use to fill with your own Twitter API credentials.
Don&rsquo;t forget to change the following line on the script:</p>
<pre tabindex="0"><code>config.read(&#39;..\..\TwitterAPI\config.ini&#39;)
</code></pre><p>It should point to wherever you save your .INI file with the authorization tokens.</p>
<h3 id="configuration-parameters">Configuration parameters<a href="#configuration-parameters" class="hanchor" ariaLabel="Anchor">#</a> </h3>
<ul>
<li><strong>API.Key and API.Secret</strong>: Think of these as the user name and password that represents your Twitter developer app when making API requests.</li>
<li><strong>Bearer.Token</strong>: OAuth 2.0 Bearer Token authenticates requests on behalf of your developer App.</li>
<li><strong>Access.Token and Access.Secret</strong>: user-specific credentials used to authenticate OAuth 1.0a API requests.</li>
<li><strong>General.ScreenName</strong>: your twitter account screen name.</li>
<li><strong>General.BatchSize</strong>: the maximum number of friend acconts you wish to be able to remove on each run.</li>
<li><strong>General.DaysInactive</strong>: the time threshold to consider a friend as inactive, in days.</li>
</ul>
<h2 id="the-script">The script<a href="#the-script" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<p>The program starts by importing the required modules for execution:</p>
<pre tabindex="0"><code>import configparser
import tweepy
from datetime import date
</code></pre><p>The first is for reading the configuration file, the second is to work with the Twitter API and the third is to be able to find the difference in days between two given date.</p>
<p>Before calling the twitter API, you must have the Twitter Developer account and a set of App&rsquo;s keys and tokens. Read more about it on the <a href="https://developer.twitter.com/en/docs/twitter-api/getting-started/getting-access-to-the-twitter-api">official portal</a>.</p>
<p>On the begining of the program, the Twitter App keys and tokens are read from the INI file:</p>
<pre tabindex="0"><code>config = configparser.ConfigParser()
config.read(&#39;..\..\TwitterAPI\config.ini&#39;)
</code></pre><p>The path should point to your INI file. The contents must follow the structure presented on the <strong>example.ini</strong> sample:</p>
<pre tabindex="0"><code>[API]
Key = &lt;your api key&gt;
Secret = &lt;your api secret&gt;

[Bearer]
Token = &lt;your bearer token, for &gt;

[Acess]
Token = &lt;your access token&gt;
Secret = &lt;your access secret&gt;

[General]
ScreenName = &lt;the target user&gt;
BatchSize = 10
DaysInactive = 5
</code></pre><p>After reading the INI file, we pass the tokens for authorization and create the API object:</p>
<pre tabindex="0"><code>auth = tweepy.OAuthHandler(config[&#39;API&#39;][&#39;Key&#39;], config[&#39;API&#39;][&#39;Secret&#39;])
auth.set_access_token(config[&#39;Acess&#39;][&#39;Token&#39;], config[&#39;Acess&#39;][&#39;Secret&#39;])

api = tweepy.API(auth, wait_on_rate_limit=True)
</code></pre><p>The Twitter API has thresholds for the allowed rate on API calls. The <strong>wait_on_rate_limit</strong> flag configures a sleep time when the allowed rate is reached.</p>
<p>The script then tests calling the API by getting the User object and initializes an empty list of inactive friends:</p>
<pre tabindex="0"><code>user = api.get_user(screen_name=config[&#39;General&#39;][&#39;ScreenName&#39;])
inactive_friends = [];
</code></pre><p>Next we go through all the friends and check their last status. If they haven&rsquo;t tweeted for more than the configured DaysInactive parameter, their account is added to the inactive friends list:</p>
<pre tabindex="0"><code>for friend in tweepy.Cursor(api.get_friends, screen_name=user.screen_name).items(): 
        tweets_list= api.user_timeline(screen_name = friend.screen_name, count = 1)
        tweet= tweets_list[0] # last status of this friend (tweepy.models.Status)

        delta = date.today() - tweet.created_at.date()
        if (delta.days &gt; int(config[&#39;General&#39;][&#39;DaysInactive&#39;])):
            inactive_friends.append(friend)
</code></pre><p>If the program has already reached the maximum number of intended inactive friends to remove, it exits the loop:</p>
<pre tabindex="0"><code>if (len(inactive_friends) &gt;= int(config[&#39;General&#39;][&#39;BatchSize&#39;])):
    break
</code></pre><p>If there were inactive friends detected, the user&rsquo;s consent for removal is confirmed and those account will be unfollowed:</p>
<pre tabindex="0"><code>    if (len(inactive_friends) &gt; 0):
        print(&#39;The following % s friends are inactive for more than 5 days:&#39; % len(inactive_friends))
        for friend in inactive_friends:
            print(friend.screen_name)

        print(&#39;Unfollowing %s inactive users..&#39; % len(inactive_friends))
        answer = input(&#34;Are you sure? [Y/n]&#34;).lower()
        if answer and answer[0] == &#34;y&#34;:
            for friend in inactive_friends:
                print(&#34;Unfollowing &#34; + friend.screen_name)
                friend.unfollow()
</code></pre><p>Please note, when creating the Twitter app on the developer portal, you must define it as read/write, otherwise the unfollow command will fail with an error.</p>
<p>The full source code is on <a href="https://github.com/ozzie-eu/twitter-unfollow-inactive">Github</a>.</p>

      </div></div>

  
    
<div class="pagination">
  <div class="pagination__title">
    <span class="pagination__title-h">Read other posts</span>
    <hr />
  </div>
  <div class="pagination__buttons">
    
      <a href="https://www.ozzie.eu/post/preferred-language-vs-gtd/" class="button inline prev">
        &lt; [<span class="button__text">Preferred Programming Language Versus Getting Things Done</span>]
      </a>
    
    
      ::
    
    
      <a href="https://www.ozzie.eu/post/ef-core-update-model-db-first/" class="button inline next">
         [<span class="button__text">EF Core Update Model on Database First Project</span>] &gt;
      </a>
    
  </div>
</div>


  

  
    

  
</article>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>Â© 2025 Powered by <a href="https://gohugo.io">Hugo</a></span>
    
      <span>:: <a href="https://github.com/panr/hugo-theme-terminal" target="_blank">Theme</a> made by <a href="https://github.com/panr" target="_blank">panr</a></span>
      </div>
  </div>
</footer>






<script type="text/javascript" src="/bundle.min.js"></script>





  
</div>

</body>
</html>
